---
layout: default
title: "Ben's film list"
---
<header>
  <h1 class="mx-6 my-4 text-5xl font-light">Ben's film list</h1>
  <p class="mx-6 my-4">
    An incomplete list of films released since 2010 that I have enjoyed. Provider and certification is for the United
    Kingdom and was last updated on <time>{{ 'now' | date: '%d %B %Y' }}</time>.
  </p>
</header>

<nav class="mx-4 my-4">
  <div class="mx-2 inline-flex flex-nowrap items-center">
    <label for="genre-select">Genre:</label>
    <select id="genre-select" class="m-2 rounded bg-lime-900 px-2 py-1" onchange="filterFilms()">
      <option selected="" value="">All</option>
      {% assign sorted_genres = tmdb.genres | sort: 'name' %}
      {% for genre in sorted_genres %}
        <option value="{{ genre.id }}">{{ genre.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mx-2 inline-flex flex-nowrap items-center">
    <label for="provider-select">Provider:</label>
    <select id="provider-select" class="m-2 rounded bg-cyan-900 px-2 py-1" onchange="filterFilms()">
      <option selected="" value="">All</option>
      {% assign sorted_providers = tmdb.providers | sort: 'provider_name' %}
      {% for provider in sorted_providers %}
        <option value="{{ provider.provider_id }}">{{ provider.provider_name }}</option>
      {% endfor %}
    </select>
  </div>
</nav>

<main id="film-list" class="m-4 grid gap-4 xs:grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5">
  {% assign sorted_films = tmdb.films | sort: 'title' %}
  {% for film in sorted_films %}
    <article
      class="flex flex-col"
      data-genre="{{ film.genres | map: 'id' | join: ' '}}"
      data-provider="{{ film.providers | map: "provider_id" | join: " " }}"
    >
      <a href="https://www.themoviedb.org/movie/{{ film.id }}" class="hover:underline">
        <h2 class="rounded-t border-b-2 border-neutral-900 bg-neutral-700 p-2 text-sm font-semibold">
          {{ film.title }}
          <span class="font-light">({{ film.release_date | date: '%Y' }})</span>
        </h2>
      </a>

      <div class="flex-grow overflow-auto bg-neutral-800 p-2 text-xs">
        <img
          width="98"
          height="147"
          class="float-left mr-2 rounded"
          src="https://image.tmdb.org/t/p/w185{{film.poster_path}}"
          loading="lazy"
          alt="Film poster"
        >
        <p class="mb-1 text-neutral-400">
          <span class="mr-1 inline-block rounded border border-neutral-500 px-1">{{ film.certification }}</span>
          {% if film.runtime > 60 %}{{ film.runtime | divided_by: 60 | floor }}h {% endif -%}
          {{- film.runtime | modulo: 60 }}m
        </p>
        <p>{{ film.overview }}</p>
      </div>

      <ul class="flex flex-wrap gap-1 rounded-b border-t-2 border-neutral-900 bg-neutral-800 p-2 text-sm">
        {% for genre in film.genres %}
          <li class="rounded bg-lime-900 px-1">{{ genre.name }}</li>
        {% endfor %}
        {% for provider in film.providers %}
          <li class="rounded bg-cyan-900 px-1">{{ provider.provider_name }}</li>
        {% endfor %}
      </ul>
    </article>
  {% endfor %}
</main>

<hr class="mx-4 border-neutral-500">

<footer class="mx-6 my-4 inline-flex items-center gap-4 text-xs text-neutral-400">
  <a href="https://www.themoviedb.org/" class="flex-none">
    <img
      alt="The Movie Database"
      class="h-2"
      src="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg"
    >
  </a>
  <span>
    This webpage uses the
    <a href="https://developer.themoviedb.org/" class="text-neutral-200 hover:underline">TMDB API</a>, but is not
    endorsed or certified by TMDB. Provider information provided by
    <a href="https://www.justwatch.com/" class="text-neutral-200 hover:underline">JustWatch</a> (via the TMDB API).
  </span>
</footer>

<script>
  const sheet = new CSSStyleSheet();
  document.adoptedStyleSheets = [sheet];

  function filterFilms() {
    const genreId = document.querySelector('#genre-select').value;
    const providerId = document.querySelector('#provider-select').value;
    if (genreId || providerId) {
      const genreSelector = genreId && `[data-genre~='${genreId}']`;
      const providerSelector = providerId && `[data-provider~='${providerId}']`;
      sheet.replaceSync(`#film-list > :not(${genreSelector}${providerSelector}) { display: none }`);
    } else {
      sheet.replaceSync('');
    }
  }
</script>
